import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as c,c as l,b as a,d as n,a as o,e as s,r as i}from"./app.759ff6f5.js";const p={},r=s(`<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>Nacos是阿里巴巴开源的一款面向云原生应用的服务发现、配置管理和动态 DNS 服务。它包括两个核心模块：Service Discovery 和 Config Service。它使用分级存储模型：Namespace&gt;Group&gt;Service&gt;Clustrer&gt;Instance</p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><p>解压即可 启动端口配置位于 config 目录下的 application.properties，默认为 8848</p><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h2><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>startup.cmd -m standalone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可通过修改 cmd，set MODE=&quot;standalone&quot;，设置默认的启动方式为单机模式，此时双击运行即可</p>`,7),d={href:"http://127.0.0.1:8848/nacos%E5%8F%AF%E8%AE%BF%E9%97%AE%E7%AE%A1%E6%8E%A7%E5%8F%B0",target:"_blank",rel:"noopener noreferrer"},u=s(`<h2 id="微服务使用-nacos-管理" tabindex="-1"><a class="header-anchor" href="#微服务使用-nacos-管理" aria-hidden="true">#</a> 微服务使用 nacos 管理</h2><ul><li>微服务中导入坐标</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>application.yml 中添加 nacos 地址：</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    nacos<span class="token punctuation">:</span>
      server<span class="token punctuation">-</span><span class="token key atrule">addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>重启微服务后，登录 nacos 管理页面，可以看到微服务信息：</li></ul><p><img src="https://markdown-1308523627.cos.ap-chengdu.myqcloud.com/typora/20230410192138.png" alt="image.png"></p><h2 id="nacos-和-eureka" tabindex="-1"><a class="header-anchor" href="#nacos-和-eureka" aria-hidden="true">#</a> Nacos 和 Eureka</h2><ul><li>Nacos 与 eureka 的共同点 <ul><li>都支持服务注册和服务拉取</li><li>都支持服务提供者心跳方式做健康检测</li></ul></li><li>Nacos 与 Eureka 的区别 <ul><li>Nacos 支持服务端主动检测提供者状态：临时实例采用心跳模式，非临时实例采用主动检测模式</li><li>临时实例心跳不正常会被剔除，非临时实例则不会被剔除</li><li>Nacos 支持服务列表变更的消息推送模式，服务列表更新更及时</li><li>Nacos 集群默认采用 AP 方式，当集群中存在非临时实例时，采用 CP 模式；Eureka 采用 AP 方式</li></ul></li></ul>`,9);function k(m,g){const e=i("ExternalLinkIcon");return c(),l("div",null,[r,a("p",null,[n("启动后请求"),a("a",d,[n("http://127.0.0.1:8848/nacos可访问管控台"),o(e)])]),u])}const _=t(p,[["render",k],["__file","day07 Nacos服务注册与发现.html.vue"]]);export{_ as default};
