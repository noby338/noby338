<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://noby.site/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html"><meta property="og:site_name" content="Noby"><meta property="og:title" content="day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘"><meta property="og:description" content="ç®€ä»‹ image-20220322160959439 image-20220322161130473 Servlet æ˜¯ JavaWeb æœ€ä¸ºæ ¸å¿ƒçš„å†…å®¹ï¼Œå®ƒæ˜¯ Java æä¾›çš„ä¸€é—¨åŠ¨æ€ web èµ„æºå¼€å‘æŠ€æœ¯ã€‚; ä½¿ç”¨ Servlet å°±å¯ä»¥å®ç°ï¼Œæ ¹æ®ä¸åŒçš„ç™»å½•ç”¨æˆ·åœ¨é¡µé¢ä¸ŠåŠ¨æ€æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚; Servlet æ˜¯ JavaEE è§„èŒƒä¹‹ä¸€ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ¥å£..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-03-25T12:46:38.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="JavaWeb"><meta property="article:tag" content="Servlet"><meta property="article:tag" content="è¯·æ±‚"><meta property="article:tag" content="å“åº”"><meta property="article:tag" content="ç¼–ç è§£ç "><meta property="article:tag" content="ä¼šè¯"><meta property="article:tag" content="è½¬å‘"><meta property="article:tag" content="é‡å®šå‘"><meta property="article:modified_time" content="2023-03-25T12:46:38.000Z"><link rel="icon" href="/site_logo.png"><meta name="baidu-site-verification" content="codeva-2o7EWQ18Dr"><meta name="description" content="è¯ºæ¯”çš„ä¸ªäººæŠ€æœ¯åšå®¢"><title>day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘ | Noby</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.f83436a5.css" as="style" /><link rel="stylesheet" href="/assets/style.f83436a5.css" />
    <link rel="modulepreload" href="/assets/app.759ff6f5.js"><link rel="modulepreload" href="/assets/day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘.html.a6d12ab6.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘.html.f1c05986.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/site_logo.png" alt="Noby"><!----><span class="site-name hide-in-pad">Noby</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="icon iconfont icon-home"></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/codenotes/" class="nav-link active" aria-label="ä»£ç ç¬”è®°"><span class="icon iconfont icon-code"></span>ä»£ç ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a href="/projects/" class="nav-link" aria-label="å¼€æºé¡¹ç›®"><span class="icon iconfont icon-free"></span>å¼€æºé¡¹ç›®<!----></a></div><div class="nav-item hide-in-mobile"><a href="/outofcode/" class="nav-link" aria-label="ç¼–ç ä¹‹å¤–"><span class="icon iconfont icon-palette"></span>ç¼–ç ä¹‹å¤–<!----></a></div><div class="nav-item hide-in-mobile"><a href="/resources/" class="nav-link" aria-label="èµ„æºä¸‹è½½"><span class="icon iconfont icon-share"></span>èµ„æºä¸‹è½½<!----></a></div><div class="nav-item hide-in-mobile"><a href="/othernav/" class="nav-link" aria-label="ä¸‰æ–¹å¯¼èˆª"><span class="icon iconfont icon-link"></span>ä¸‰æ–¹å¯¼èˆª<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å…³äºä½œè€…"><span class="title"><span class="icon iconfont icon-mount"></span>å…³äºä½œè€…</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://github.com/noby338" rel="noopener noreferrer" target="_blank" aria-label="Github" class="nav-link"><img class="icon" src="/navicon/github.svg">Github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://gitee.com/noby3388" rel="noopener noreferrer" target="_blank" aria-label="Gitee" class="nav-link"><img class="icon" src="/navicon/gitee.svg">Gitee<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://www.douyin.com/user/MS4wLjABAAAAiBM0gdk-LaNni9TQG9p208UIP5KVf3pPICn-q4mprVw" rel="noopener noreferrer" target="_blank" aria-label="TikTok" class="nav-link"><img class="icon" src="/navicon/tiktok.svg">TikTok<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://space.bilibili.com/59668246?spm_id_from=333.1007.0.0" rel="noopener noreferrer" target="_blank" aria-label="Bilibili" class="nav-link"><img class="icon" src="/navicon/bilibili.svg">Bilibili<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢æœ¬ç«™" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-extend"></span><span class="title">Distributed</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-git"></span><span class="title">git</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java"></span><span class="title">Java SE</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-Apache"></span><span class="title">JavaWeb</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/codenotes/javaWeb/day01%20XML%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%8A%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="day01 XMLé…ç½®æ–‡ä»¶åŠè§£ææ–¹å¼"><span class="icon iconfont icon-write"></span>day01 XMLé…ç½®æ–‡ä»¶åŠè§£ææ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day02%20Mybatis%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%E3%80%81%E6%8E%A5%E5%8F%A3%E6%98%A0%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E6%98%A0%E5%B0%84%E3%80%81%E7%BC%93%E5%AD%98.html" class="nav-link sidebar-link sidebar-page" aria-label="day02 Mybatisçš„åŸºæœ¬ç”¨æ³•ã€æ¥å£æ˜ å°„ã€æ³¨è§£æ˜ å°„ã€ç¼“å­˜"><span class="icon iconfont icon-write"></span>day02 Mybatisçš„åŸºæœ¬ç”¨æ³•ã€æ¥å£æ˜ å°„ã€æ³¨è§£æ˜ å°„ã€ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day03%20Mybatis%E7%9A%84%E5%8A%A8%E6%80%81SQL%E3%80%81PageHelper%E3%80%81CDATA%E5%8C%BA%E3%80%81%E5%AD%97%E7%AC%A6%E5%AE%9E%E4%BD%93%E5%BC%95%E7%94%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="day03 Mybatisçš„åŠ¨æ€SQLã€PageHelperã€CDATAåŒºã€å­—ç¬¦å®ä½“å¼•ç”¨"><span class="icon iconfont icon-write"></span>day03 Mybatisçš„åŠ¨æ€SQLã€PageHelperã€CDATAåŒºã€å­—ç¬¦å®ä½“å¼•ç”¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day04%20Mybatis%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E5%85%B3%E7%B3%BB%E3%80%81%E8%BF%9E%E8%A1%A8%E6%9F%A5%E8%AF%A2%E3%80%81%E5%88%86%E5%B8%83%E6%9F%A5%E8%AF%A2%E3%80%81%E7%BC%93%E5%AD%98.html" class="nav-link sidebar-link sidebar-page" aria-label="day04 Mybatiså¤šè¡¨æŸ¥è¯¢å…³ç³»ã€è¿è¡¨æŸ¥è¯¢ã€åˆ†å¸ƒæŸ¥è¯¢ã€ç¼“å­˜"><span class="icon iconfont icon-write"></span>day04 Mybatiså¤šè¡¨æŸ¥è¯¢å…³ç³»ã€è¿è¡¨æŸ¥è¯¢ã€åˆ†å¸ƒæŸ¥è¯¢ã€ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day05%20Maven%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E3%80%81Mybatis%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="day05 Mavençš„åŸºæœ¬ä½¿ç”¨ã€Mybatisé€†å‘å·¥ç¨‹"><span class="icon iconfont icon-write"></span>day05 Mavençš„åŸºæœ¬ä½¿ç”¨ã€Mybatisé€†å‘å·¥ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day06%20HTTP%E5%8D%8F%E8%AE%AE%E5%92%8CTomcat%E6%9C%8D%E5%8A%A1%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="day06 HTTPåè®®å’ŒTomcatæœåŠ¡å™¨"><span class="icon iconfont icon-write"></span>day06 HTTPåè®®å’ŒTomcatæœåŠ¡å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘"><span class="icon iconfont icon-write"></span>day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç®€ä»‹"><!---->ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç»§æ‰¿å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»§æ‰¿å…³ç³»"><!---->ç»§æ‰¿å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç”Ÿå‘½å‘¨æœŸ"><!---->ç”Ÿå‘½å‘¨æœŸ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#servlet-åŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Servlet åŸºç¡€"><!---->Servlet åŸºç¡€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#httpservlet" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HttpServlet"><!---->HttpServlet<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…"><!---->Tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#get-å’Œ-post-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Get å’Œ Post çš„åŒºåˆ«"><!---->Get å’Œ Post çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«"><!---->è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#å¸¸ç”¨çš„å“åº”ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸ç”¨çš„å“åº”ç "><!---->å¸¸ç”¨çš„å“åº”ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç¼–ç å’Œè§£ç çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¼–ç å’Œè§£ç çš„æ–¹å¼"><!---->ç¼–ç å’Œè§£ç çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#request-è¯·æ±‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Request è¯·æ±‚"><!---->Request è¯·æ±‚<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#response-è¯·æ±‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Response è¯·æ±‚"><!---->Response è¯·æ±‚<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¯·æ±‚çš„åŒ…å«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚çš„åŒ…å«"><!---->è¯·æ±‚çš„åŒ…å«<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ä¼šè¯è·Ÿè¸ª" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¼šè¯è·Ÿè¸ª"><!---->ä¼šè¯è·Ÿè¸ª<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¯·æ±‚å’Œä¼šè¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚å’Œä¼šè¯"><!---->è¯·æ±‚å’Œä¼šè¯<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª"><!---->å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#cookie-å’Œ-session-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cookie å’Œ Session çš„åŒºåˆ«"><!---->Cookie å’Œ Session çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#cookie" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cookie"><!---->Cookie<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Session"><!---->Session<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#servletcontext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ServletContext"><!---->ServletContext<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ä¼šè¯åº”ç”¨-éªŒè¯ç™»é™†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¼šè¯åº”ç”¨ï¼ŒéªŒè¯ç™»é™†"><!---->ä¼šè¯åº”ç”¨ï¼ŒéªŒè¯ç™»é™†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼"><!---->é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¡¨å•éšè—åŸŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡¨å•éšè—åŸŸ"><!---->è¡¨å•éšè—åŸŸ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#url" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Url"><!---->Url<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#http-æµ‹è¯•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP æµ‹è¯•"><!---->HTTP æµ‹è¯•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day08%20JSP%E3%80%81EL%E3%80%81JSTL.html" class="nav-link sidebar-link sidebar-page" aria-label="day08 JSPã€ELã€JSTL"><span class="icon iconfont icon-write"></span>day08 JSPã€ELã€JSTL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day09%20%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82.html" class="nav-link sidebar-link sidebar-page" aria-label="day09 å¼‚æ­¥è¯·æ±‚ã€AJAXã€AXIOS"><span class="icon iconfont icon-write"></span>day09 å¼‚æ­¥è¯·æ±‚ã€AJAXã€AXIOS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day10%20%E8%BF%87%E6%BB%A4%E5%99%A8%E3%80%81%E7%9B%91%E5%90%AC%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="day10 è¿‡æ»¤å™¨ã€ç›‘å¬å™¨"><span class="icon iconfont icon-write"></span>day10 è¿‡æ»¤å™¨ã€ç›‘å¬å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/codenotes/javaWeb/day11%20MVC%E5%8F%8A%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84.html" class="nav-link sidebar-link sidebar-page" aria-label="day11 MVCåŠä¸‰å±‚æ¶æ„"><span class="icon iconfont icon-write"></span>day11 MVCåŠä¸‰å±‚æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-linux"></span><span class="title">linux</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-leaf"></span><span class="title">Spring</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mysql"></span><span class="title">SQL</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-windows"></span><span class="title">windows</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-write"></span>day07 Servletã€è¯·æ±‚ã€å“åº”ã€ç¼–ç è§£ç ã€ä¼šè¯ã€è½¬å‘ã€é‡å®šå‘</h1><div class="page-info"><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category8 clickable" role="navigation">JavaWeb</span></li><li><span class="category category1 clickable" role="navigation">Servlet</span></li></ul><meta property="articleSection" content="JavaWeb,Servlet"></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag8 clickable" role="navigation">JavaWeb</span></li><li><span class="tag tag1 clickable" role="navigation">Servlet</span></li><li><span class="tag tag5 clickable" role="navigation">è¯·æ±‚</span></li><li><span class="tag tag3 clickable" role="navigation">å“åº”</span></li><li><span class="tag tag3 clickable" role="navigation">ç¼–ç è§£ç </span></li><li><span class="tag tag4 clickable" role="navigation">ä¼šè¯</span></li><li><span class="tag tag3 clickable" role="navigation">è½¬å‘</span></li><li><span class="tag tag5 clickable" role="navigation">é‡å®šå‘</span></li></ul><meta property="keywords" content="JavaWeb,Servlet,è¯·æ±‚,å“åº”,ç¼–ç è§£ç ,ä¼šè¯,è½¬å‘,é‡å®šå‘"></span><span class="words-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 6690 å­—</span><meta property="wordCount" content="6690"></span><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-03-25T12:46:38.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç»§æ‰¿å…³ç³»" class="router-link-active router-link-exact-active toc-link level2">ç»§æ‰¿å…³ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active toc-link level2">ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#servlet-åŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">Servlet åŸºç¡€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#httpservlet" class="router-link-active router-link-exact-active toc-link level2">HttpServlet</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…" class="router-link-active router-link-exact-active toc-link level3">Tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#get-å’Œ-post-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Get å’Œ Post çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#å¸¸ç”¨çš„å“åº”ç " class="router-link-active router-link-exact-active toc-link level3">å¸¸ç”¨çš„å“åº”ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ç¼–ç å’Œè§£ç çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">ç¼–ç å’Œè§£ç çš„æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#request-è¯·æ±‚" class="router-link-active router-link-exact-active toc-link level3">Request è¯·æ±‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#response-è¯·æ±‚" class="router-link-active router-link-exact-active toc-link level3">Response è¯·æ±‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¯·æ±‚çš„åŒ…å«" class="router-link-active router-link-exact-active toc-link level3">è¯·æ±‚çš„åŒ…å«</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ä¼šè¯è·Ÿè¸ª" class="router-link-active router-link-exact-active toc-link level2">ä¼šè¯è·Ÿè¸ª</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¯·æ±‚å’Œä¼šè¯" class="router-link-active router-link-exact-active toc-link level3">è¯·æ±‚å’Œä¼šè¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#cookie-å’Œ-session-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Cookie å’Œ Session çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#cookie" class="router-link-active router-link-exact-active toc-link level3">Cookie</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#session" class="router-link-active router-link-exact-active toc-link level3">Session</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#servletcontext" class="router-link-active router-link-exact-active toc-link level3">ServletContext</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#ä¼šè¯åº”ç”¨-éªŒè¯ç™»é™†" class="router-link-active router-link-exact-active toc-link level3">ä¼šè¯åº”ç”¨ï¼ŒéªŒè¯ç™»é™†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#è¡¨å•éšè—åŸŸ" class="router-link-active router-link-exact-active toc-link level3">è¡¨å•éšè—åŸŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#url" class="router-link-active router-link-exact-active toc-link level3">Url</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/codenotes/javaWeb/day07%20Servlet%E3%80%81%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E3%80%81%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81%E3%80%81%E4%BC%9A%E8%AF%9D%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91.html#http-æµ‹è¯•" class="router-link-active router-link-exact-active toc-link level2">HTTP æµ‹è¯•</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ç®€ä»‹" aria-hidden="true">#</a> ç®€ä»‹</h2><p><img src="https://markdown-1308523627.cos.ap-chengdu.myqcloud.com/typora/image-20220322160959439.png" alt="image-20220322160959439"><img src="https://markdown-1308523627.cos.ap-chengdu.myqcloud.com/typora/image-20220322161130473.png" alt="image-20220322161130473"></p><ul><li>Servlet æ˜¯ JavaWeb æœ€ä¸ºæ ¸å¿ƒçš„å†…å®¹ï¼Œå®ƒæ˜¯ Java æä¾›çš„ä¸€é—¨åŠ¨æ€ web èµ„æºå¼€å‘æŠ€æœ¯ã€‚</li><li>ä½¿ç”¨ Servlet å°±å¯ä»¥å®ç°ï¼Œæ ¹æ®ä¸åŒçš„ç™»å½•ç”¨æˆ·åœ¨é¡µé¢ä¸ŠåŠ¨æ€æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚</li><li>Servlet æ˜¯ JavaEE è§„èŒƒä¹‹ä¸€ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå°†æ¥æˆ‘ä»¬éœ€è¦å®šä¹‰ Servlet ç±»å®ç° Servlet æ¥å£ï¼Œå¹¶ç”± web æœåŠ¡å™¨è¿è¡Œ Servlet</li></ul><h2 id="ç»§æ‰¿å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿å…³ç³»" aria-hidden="true">#</a> ç»§æ‰¿å…³ç³»</h2><p><img src="https://markdown-1308523627.cos.ap-chengdu.myqcloud.com/typora/20230325132622.png" alt="image.png"></p><h2 id="ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸ</h2><ul><li>Servlet è¿è¡Œåœ¨ Servlet å®¹å™¨(web æœåŠ¡å™¨)ä¸­ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç”±å®¹å™¨æ¥ç®¡ç†ï¼Œåˆ†ä¸º 4 ä¸ªé˜¶æ®µï¼š <ol><li>åŠ è½½å’Œå®ä¾‹åŒ–ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ Servlet ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼Œç”±å®¹å™¨åˆ›å»º Servlet å¯¹è±¡ <ul><li>å¯ç”¨ loadOnStartup ä¿®æ”¹æˆåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºã€‚</li></ul></li><li>åˆå§‹åŒ–ï¼šåœ¨ Servlet å®ä¾‹åŒ–ä¹‹åï¼Œå®¹å™¨å°†è°ƒç”¨ Servlet çš„ init()æ–¹æ³•åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œå®Œæˆä¸€äº›å¦‚åŠ è½½é…ç½®æ–‡ä»¶ã€åˆ›å»ºè¿æ¥ç­‰åˆå§‹åŒ–çš„å·¥ä½œã€‚è¯¥æ–¹æ³•åªè°ƒç”¨ä¸€æ¬¡</li><li>è¯·æ±‚å¤„ç†ï¼šæ¯æ¬¡è¯·æ±‚ Servlet æ—¶ï¼ŒServlet å®¹å™¨éƒ½ä¼šè°ƒç”¨ Servlet çš„ service()æ–¹æ³•å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†</li><li>æœåŠ¡ç»ˆæ­¢ï¼šå½“éœ€è¦é‡Šæ”¾å†…å­˜æˆ–è€…å®¹å™¨å…³é—­æ—¶ï¼Œå®¹å™¨å°±ä¼šè°ƒç”¨ Servlet å®ä¾‹çš„ destroy()æ–¹æ³•å®Œæˆèµ„æºçš„é‡Šæ”¾ã€‚åœ¨ destroy()æ–¹æ³•è°ƒç”¨ä¹‹åï¼Œå®¹å™¨ä¼šé‡Šæ”¾è¿™ä¸ª Servlet å®ä¾‹ï¼Œè¯¥å®ä¾‹éšåä¼šè¢« Java çš„åƒåœ¾æ”¶é›†å™¨æ‰€å›æ”¶</li></ol></li></ul><h2 id="servlet-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#servlet-åŸºç¡€" aria-hidden="true">#</a> Servlet åŸºç¡€</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * é€šè¿‡é…ç½®web.xmlå®ç°servletçš„è®¿é—®
 * servletçš„ç”Ÿå‘½å‘¨æœŸ
 * ServletConfigç±»
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletNote</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ServletConfig</span> servletConfig <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//è¯¥å¯¹è±¡ä¿å­˜çš„å³ä¸º&lt;servlet&gt;æ ‡ç­¾å†…çš„ä¿¡æ¯</span>

    <span class="token doc-comment comment">/**
     * åªåœ¨servletç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡
     *
     * <span class="token keyword">@param</span> <span class="token parameter">servletConfig</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
        tomcatåœ¨æ‰§è¡Œinitæ–¹æ³•ä¹‹å‰ï¼Œè¯»å–web.xmlä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†é…ç½®æ–‡ä»¶ä¿¡æ¯å°è£…ä¸ºServletConfigå¯¹è±¡ï¼Œä¼ å…¥åˆ°initæ–¹æ³•ä¸­
         */</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>servletConfig <span class="token operator">=</span> servletConfig<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;initæ‰§è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletConfig.getInitParameter(\&quot;ENCODING\&quot;) = &quot;</span> <span class="token operator">+</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;ENCODING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletConfig.getServletContext().getInitParameter(\&quot;info2\&quot;) = &quot;</span> <span class="token operator">+</span> servletConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;info2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * è¿”å›servleté…ç½®å¯¹è±¡
     *
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> servletConfig<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æä¾›æœåŠ¡çš„æ–¹æ³•
     * æ¯ä¸€æ¬¡servletè¢«è®¿é—®æ—¶è°ƒç”¨è¯¥æ–¹æ³•
     *
     * <span class="token keyword">@param</span> <span class="token parameter">servletRequest</span>
     * <span class="token keyword">@param</span> <span class="token parameter">servletResponse</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;ENCODING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é€šè¿‡servletConfigå¯¹è±¡è·å–web.xmlæ–‡ä»¶ä¸­çš„é…ç½®å‚æ•°</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;serviceæ‰§è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * è¿”å›servletä¿¡æ¯
     *
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æœåŠ¡å™¨å…³é—­å’Œservletå¯¹è±¡è¢«é”€æ¯æ—¶è°ƒç”¨è¯¥æ–¹æ³•
     * åªè°ƒç”¨ä¸€æ¬¡
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;destroyæ‰§è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="httpservlet" tabindex="-1"><a class="header-anchor" href="#httpservlet" aria-hidden="true">#</a> HttpServlet</h2><h3 id="tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…" tabindex="-1"><a class="header-anchor" href="#tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…" aria-hidden="true">#</a> Tomcatå¯¹è¯·æ±‚å’Œå“åº”çš„å°è£…</h3><ul><li>request:è·å–è¯·æ±‚æ•°æ® <ul><li>æµè§ˆå™¨ä¼šå‘é€ HTTP[è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“]è¯·æ±‚åˆ°åå°æœåŠ¡å™¨[Tomcat]</li><li>åå°æœåŠ¡å™¨[Tomcat]ä¼šå¯¹ HTTP è¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ª request å¯¹è±¡ä¸­</li><li>æˆ‘ä»¬å¯ä»¥ä» request å¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•°è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡</li></ul></li><li>response:è®¾ç½®å“åº”æ•°æ® <ul><li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œå‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†åï¼Œå°è£…åˆ° response å¯¹è±¡ä¸­çš„å“åº”æ•°æ®</li><li>åå°æœåŠ¡å™¨[Tomcat]ä¼šè§£æ response å¯¹è±¡,æŒ‰ç…§[å“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“]æ ¼å¼æ‹¼æ¥ç»“æœä»¥ HTTP åè®®è¿”å›ç»™è¡—è“æ——</li><li>æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ</li></ul></li></ul><h3 id="get-å’Œ-post-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#get-å’Œ-post-çš„åŒºåˆ«" aria-hidden="true">#</a> Get å’Œ Post çš„åŒºåˆ«</h3><ul><li>ä¸¤è€…éƒ½ä¸º http çš„è¯·æ±‚æ–¹å¼ï¼Œä¼ è¾“å±‚åè®®å‡ä¸º tcp åè®®ï¼Œget è¯·æ±‚ç”¨äºè·å–è¯·æ±‚æ•°æ®ï¼Œpost è¯·æ±‚å¤šä¸ºæäº¤æ•°æ®</li><li>get æ²¡æœ‰è¯·æ±‚ä½“ï¼Œpost æœ‰è¯·æ±‚ä½“</li><li>get çš„è¯·æ±‚å‚æ•°ä½äºè¯·æ±‚è¡Œä¸­åœ¨æµè§ˆå™¨åœ°å€æ å¯è§ï¼Œpost çš„è¯·æ±‚å‚æ•°å°è£…ä¸è¯·æ±‚ä½“ä¸­æµè§ˆå™¨åœ°å€ä¸å¯è§</li><li>get å‘é€çš„è¯·æ±‚æ•°æ®é‡ä¸ºä¸€èˆ¬ä¸º 1k(å’Œæµè§ˆå™¨æœ‰å…³)ï¼Œpost è¯·æ±‚æ•°æ®é‡æ²¡æœ‰é™åˆ¶</li><li>get åªæ¥å— ASCII å­—ç¬¦ï¼Œå¯¹é ascll å­—ç¬¦åªèƒ½è¿›è¡Œ url ç¼–ç ï¼Œè€Œ post æ”¯æŒ utf-8 å’Œ iso-8859-1 ç­‰å¤šç§ç¼–ç æ–¹å¼ã€‚</li><li>get è¯·æ±‚çš„ä¹±ç å¤„ç†ä¸ºä¿®æ”¹ tomcat é…ç½®æ–‡ä»¶(ä¹±ç å‘ç”Ÿåœ¨ tomcat8 ä¹‹å‰)ï¼Œæˆ–å°†ä¹±ç å­—ç¬¦é€šè¿‡ iso-8859-1 é‡æ–°ç¼–ç ä¸ºå­—èŠ‚ç ï¼Œå†é€šè¿‡ utf-8 è§£ç ä¸ºæ­£ç¡®å­—ç¬¦ï¼›post è¯·æ±‚çš„ä¹±ç å¤„ç†ä¸ºè®¾ç½®è¯·æ±‚ä½“ä¸º utf-8 è§£ç (request.setCharacterEncoding(&quot;utf-8&quot;))</li><li>get æ•ˆç‡é«˜äº post</li><li>get å®‰å…¨æ€§ä½äº post</li><li>get çš„è¯·æ±‚æœ‰æµè§ˆå™¨åœ°å€è¾“å…¥ã€è¶…é“¾æ¥ã€get è¡¨å•ã€ajax çš„ get è¯·æ±‚ï¼Œpost çš„è¯·æ±‚æœ‰ post è¡¨å•ã€ajax çš„ post è¯·æ±‚</li></ul><h3 id="è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«" aria-hidden="true">#</a> è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«</h3><ul><li>è½¬å‘é€šè¿‡ request å¯¹è±¡è°ƒç”¨ getRequestDispatcher().forword()æ–¹æ³•è½¬å‘ï¼Œé‡å®šå‘é€šè¿‡ response å¯¹è±¡è°ƒç”¨ sendRedirect()æ–¹æ³•é‡å®šå‘ï¼Œè½¬å‘è·¯å¾„å‚æ•°å¯ä¸åŒ…å« contextPathï¼Œé‡å®šå‘è·¯å¾„å‚æ•°å¿…é¡»åŒ…å« contextPath</li><li>è½¬å‘è¿‡ç¨‹ä¸­ request åŸŸæœ‰æ•ˆï¼Œé‡å®šå‘è¿‡ç¨‹ä¸­ rquest åŸŸæ— æ•ˆ</li><li>è½¬å‘è¯·æ±‚çš„å‘èµ·è€…ä¸ºæœåŠ¡å™¨ï¼Œè½¬å‘è·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œé‡å®šå‘è¯·æ±‚çš„å‘èµ·è€…ä¸ºæµè§ˆå™¨ï¼Œé‡å®šå‘è·¯å¾„ä½¿ç”¨ç»å¯¹è·¯å¾„</li><li>è½¬å‘å‰åä¸ºåŒä¸€æ¬¡è¯·æ±‚ï¼Œé‡å®šå‘å‰åä¸ºä¸¤æ¬¡ä¸åŒçš„è¯·æ±‚</li><li>è½¬å‘å‰åæµè§ˆå™¨åœ°å€æ çš„è·¯å¾„ä¸æ”¹å˜ï¼Œé‡å®šå‘å‰åæµè§ˆå™¨åœ°å€æ çš„è·¯å¾„æ”¹å˜</li><li>è½¬å‘çš„å“åº”é€Ÿåº¦å¿«ï¼Œé‡å®šå‘çš„å“åº”é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢</li><li>è½¬å‘åªèƒ½åœ¨å½“å‰ç½‘ç«™çš„èµ„æºä¸­è·³è½¬ï¼Œé‡å®šå‘å¯åœ¨ä¸åŒçš„ç½‘ç«™ä¸­è·³è½¬</li></ul><h3 id="å¸¸ç”¨çš„å“åº”ç " tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨çš„å“åº”ç " aria-hidden="true">#</a> å¸¸ç”¨çš„å“åº”ç </h3><ul><li>200 æ­£å¸¸å“åº”</li><li>302 é‡å®šå‘</li><li>400 è¯·æ±‚çš„æ¡ä»¶ä¸æ»¡è¶³(å¿…é¡»æºå¸¦æŸä¸ªå‚æ•°)</li><li>401 æœªè®¤è¯(Authentication åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•)</li><li>403 æœªæˆæƒ(Authorization ç™»å½•çš„ç”¨æˆ·èƒ½å¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œ)</li><li>404 æœªæ‰¾åˆ°èµ„æºæ–‡ä»¶</li><li>405 è¯·æ±‚æ–¹å¼é”™è¯¯</li><li>408 è¯·æ±‚è¶…æ—¶</li><li>500 æœåŠ¡å™¨å¼‚å¸¸</li><li>502 é”™è¯¯ç½‘å…³(nginx)</li></ul><h3 id="ç¼–ç å’Œè§£ç çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç¼–ç å’Œè§£ç çš„æ–¹å¼" aria-hidden="true">#</a> ç¼–ç å’Œè§£ç çš„æ–¹å¼</h3><ul><li>html é¡µé¢ <code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code> è®¾ç½®æµè§ˆå™¨çš„è§£ç æ–¹å¼</li><li>response.setContentType(&quot;text/html;charset=utf-8&quot;);å“åº”çš„æ•°æ®ä¸º html,æœåŠ¡å™¨ç¼–ç æ–¹å¼ä¸º utf-8 <ul><li>ä½œä¸ºä»¥ä¸‹çš„ç®€å†™ï¼ŒåŒæ—¶ç®€å†™æ–¹å¼è¿˜èƒ½å‘Šè¯‰æµè§ˆå™¨è‡ªé€‚åº”å½“å‰çš„ç¼–ç  <ul><li>response.setHeader(&quot;content-type&quot;, &quot;text/html&quot;);//è®¾ç½®ç›¸åº”çš„å†…å®¹ç±»å‹</li><li>response.setCharacterEncoding(&quot;utf-8&quot;);//è®¾ç½®å†…å®¹çš„æœåŠ¡å™¨ç¼–ç æ–¹å¼</li></ul></li></ul></li><li>request.setCharacterEncoding(&quot;utf-8&quot;); è®¾ç½®æœåŠ¡å™¨å¯¹è¯·æ±‚ä½“è§£ç æ–¹å¼ä¸º utf-8</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebInitParam</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * HttpServletå’ŒServletçš„ç»§æ‰¿å…³ç³»
 * é€šè¿‡æ³¨è§£é…ç½®Servletçš„è®¿é—®è·¯å¾„
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/httpServletNote&quot;</span><span class="token punctuation">,</span><span class="token comment">//tomcatè®¿é—®è·¯å¾„</span>
        initParams <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;noby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//servletåˆå§‹åŒ–å‚æ•°</span>
        loadOnStartup <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">/*
nameå±æ€§å¯éšæ„
ServletConfigåˆå§‹åŒ–å¯¹è±¡çš„å‚æ•°
loadOnStartup
ï¼ˆ1ï¼‰è´Ÿæ•´æ•°:ç¬¬ä¸€æ¬¡è®¿é—®æ—¶åˆ›å»ºServletå¯¹è±¡
ï¼ˆ2ï¼‰0æˆ–æ­£æ•´æ•°:æœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºServletå¯¹è±¡ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜

@WebServletçš„ä½¿ç”¨æ³¨æ„ï¼š
    @WebServletçš„valueå±æ€§åç­‰åŒäº urlPatterns å±æ€§åï¼Œç­‰åŒäºç›´æ¥ä¹¦å†™å±æ€§å€¼
    @WebServlet(urlPatterns = {&quot;/urlPattern1&quot;,&quot;/urlPattern2&quot;})//ä¸€ä¸ªservletå¯ä»¥é…ç½®å¤šä¸ªurlPattern
    @WebServlet(urlPatterns = &quot;/user/select&quot;)//ç²¾ç¡®åŒ¹é…
    @WebServlet(urlPatterns = &quot;/user/*&quot;)//ç›®å½•åŒ¹é…(*è¡¨ç¤ºä»»ä½•å†…å®¹)
    @WebServlet(&quot;*.do&quot;)//æ‰©å±•ååŒ¹é…
    @WebServlet(&quot;/*&quot;)//ä»»æ„åŒ¹é…
    @WebServlet(&quot;/&quot;)//ä»»æ„åŒ¹é…

    ä¸æ¨è&quot;/&quot;çš„æ–¹æ³•ä½¿ç”¨ä»»æ„åŒ¹é…ï¼Œå…¶ä¼šè¦†ç›–tomcatçš„DefaultServlet
    tomcatçš„DefaultServletç”¨äºè·å–é™æ€èµ„æº
    ä¼˜å…ˆçº§ï¼š    ç²¾ç¡®ç›®å½•&gt;ç›®å½•è·¯å¾„&gt;æ‰©å±•åè·¯å¾„&gt;/*&gt;/

æ³¨è§£ä½¿ç”¨æ³¨æ„ï¼š
    1ã€å½“æ³¨è§£çš„å±æ€§åä¸ºvalueæ—¶ï¼Œå¯ä»¥çœç•¥value=çš„ä¹¦å†™æ–¹å¼ï¼Œç›´æ¥å†™å±æ€§å€¼ï¼›
    2ã€å½“æ³¨è§£ä¸­çš„å±æ€§ä¸å”¯ä¸€æ—¶ï¼Œä¸èƒ½çœç•¥value=çš„ä¹¦å†™ï¼›
    3ã€ä½¿ç”¨æŸä¸€æ³¨è§£ï¼Œè¯¥æ³¨è§£çš„æ‰€æœ‰å±æ€§å¿…é¡»èµ‹å€¼ï¼ˆWebServletæ³¨è§£æ²¡æœ‰å…¨éƒ¨èµ‹å€¼å› ä¸ºé™¤urlPatternä»¥å¤–çš„æ‰€æœ‰å±æ€§éƒ½å·²é€šè¿‡defaultèµ‹åˆå€¼ï¼‰
    4ã€æ³¨è§£çš„å±æ€§å¯ä»¥æ˜¯æ³¨è§£
    5ã€æ³¨è§£çš„å±æ€§å¯ä»¥æ˜¯æ•°ç»„ï¼Œå½“æ•°ç»„çš„é•¿åº¦ä¸ºä¸€æ—¶ï¼Œå¯ä»¥çœç•¥{}çš„ä¹¦å†™
 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpServletNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Servletæ¥å£ä¸­çš„æ–¹æ³•
     *
     * <span class="token keyword">@param</span> <span class="token parameter">req</span>
     * <span class="token keyword">@param</span> <span class="token parameter">res</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> res<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * HttpServleté‡å†™çš„æ–¹æ³•ï¼Œå¹¶å°†ServletRequestå’ŒServletResponseå‘ä¸‹è½¬å‹ï¼Œ
     * åŒæ—¶ï¼Œå¯ä»¥åˆ¤æ–­è¯·æ±‚å‚æ•°çš„ç±»å‹ï¼Œæ ¹æ®ç±»å‹è°ƒç”¨post()æˆ–get()æ–¹æ³•
     *
     * <span class="token keyword">@param</span> <span class="token parameter">req</span>
     * <span class="token keyword">@param</span> <span class="token parameter">resp</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è°ƒç”¨çš„ä¸ºServletConfigç±»çš„getInitParameter()ï¼ŒgetServletContext()ã€‚ä»–ä»¬éƒ½æ˜¯æ¥è‡ªGenericServletçš„é‡å†™ï¼Œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;this.getInitParameter(\&quot;username\&quot;) = &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getInitParameter(\&quot;password\&quot;) = &quot;</span> <span class="token operator">+</span> <span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;getServletContext().getInitParameter(\&quot;info2\&quot;) = &quot;</span> <span class="token operator">+</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;info2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HttpServletNote.doPost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HttpServletNote.doGet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        this.doPost(request, response);</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="request-è¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#request-è¯·æ±‚" aria-hidden="true">#</a> Request è¯·æ±‚</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>httpServlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * è¯·æ±‚ä¹±ç é—®é¢˜
 *  * getè¯·æ±‚ä¹±ç çš„åŸå› ï¼š
 *      * æµè§ˆå™¨è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚å‚æ•°ä¸ºutf-8çš„urlç¼–ç æ–¹å¼ï¼Œtomcat8ä¹‹å‰é»˜è®¤ä½¿ç”¨çš„iso-8859-1çš„è§£ç æ–¹å¼ï¼Œä¹‹åä¸ºutf-8
 *  * getè§£å†³æ–¹å¼ï¼š
 *      * è®¾ç½®tomcaté…ç½®æ–‡ä»¶çš„é»˜è®¤è§£ç æ–¹å¼
 *      * new String(username.getBytes(&quot;ISO_8859_1&quot;), &quot;utf-8&quot;) ()
 *  * postè¯·æ±‚ä¹±ç çš„åŸå› ï¼š
 *      * æµè§ˆå™¨è¯·æ±‚ä½“ä¸ºutf-8çš„ç¼–ç æ–¹å¼ï¼Œtomcaté»˜è®¤ä½¿ç”¨çš„iso-8859-1çš„è§£ç æ–¹å¼
 *  * postè§£å†³æ–¹å¼ï¼š
 *      * request.setCharacterEncoding(&quot;utf-8&quot;);
 * * è¯·æ±‚çš„å‚æ•°
 * è¯·æ±‚çš„è½¬å‘
 *
 * <span class="token keyword">@author</span> Noby
 * <span class="token keyword">@since</span> 2023/3/24 22:35
 */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/requestServletNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestServletNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * è¯·æ±‚å¤´çš„è·å–
     * è§£å†³è¯·æ±‚çš„ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ˆtomcat8ä»¥åçš„getè¯·æ±‚æ— ä¸­é—®ä¹±ç é—®é¢˜ï¼‰
     * è·å–è¯·æ±‚å‚æ•°çš„å‡ ç§æ–¹å¼
     *
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        response.setContentType(&quot;text/html;charSet=utf-8&quot;);</span>
<span class="token comment">//        request.setCharacterEncoding(&quot;utf-8&quot;);//è§£å†³è¯·æ±‚ä¸­æ–‡ä¹±ç ï¼ˆè¯¥æ–¹æ³•ä¸èƒ½å¤„ç†getè¯·æ±‚ä¹±ç ï¼Œå› ä¸ºè®¾ç½®çš„ä¸ºè¯·æ±‚ä½“çš„ä¹±ç ï¼Œgetè¯·æ±‚å‚æ•°ä½äºè¯·æ±‚è¡Œä¸­ï¼‰</span>
<span class="token comment">//</span>
<span class="token comment">//        //è·å–è¯·æ±‚å¤´</span>
<span class="token comment">//        System.out.println(&quot;request.getHeader(\&quot;user-agent\&quot;) = &quot; + request.getHeader(&quot;user-agent&quot;));//è·å–è¯·æ±‚å¤´</span>
<span class="token comment">//        System.out.println(&quot;request.getParameterValues(\&quot;hobby\&quot;) = &quot; + Arrays.toString(request.getParameterValues(&quot;hobby&quot;)));//è·å–ä¸€ç»„å‚æ•°</span>
<span class="token comment">//        Enumeration&lt;String&gt; parameterNames = request.getParameterNames();//è·å–æ‰€æœ‰å‚æ•°å</span>
<span class="token comment">//        Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();//è·å–æ‰€æœ‰å‚æ•°çš„é”®å€¼å¯¹</span>
<span class="token comment">//</span>
<span class="token comment">//</span>
<span class="token comment">//        String username = request.getParameter(&quot;username&quot;);</span>
<span class="token comment">//        System.out.println(&quot;username = &quot; + username);</span>
<span class="token comment">//        PrintWriter writer = response.getWriter();</span>
<span class="token comment">//        writer.write(&quot;username:&quot; + username);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * è·å–è¯·æ±‚è¡Œçš„å„ä¸ªå‚æ•°
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        //è·å–è¯·æ±‚è¡Œ http://localhost:8080/servlet/RequestServletNote?username=noby&amp;password=123//        System.out.println(&quot;request.getRequestURL() = &quot; + request.getRequestURL());//http://localhost:8080/servlet/RequestServletNote ï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰</span>
<span class="token comment">//        System.out.println(&quot;request.getRequestURI() = &quot; + request.getRequestURI());//servlet/RequestServletNote ï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰</span>
<span class="token comment">//        System.out.println(&quot;request.getScheme() = &quot; + request.getScheme());//http</span>
<span class="token comment">//        System.out.println(&quot;request.getServerName() = &quot; + request.getServerName());//localhost ï¼ˆæœåŠ¡å™¨idåœ°å€ï¼‰</span>
<span class="token comment">//        System.out.println(&quot;request.getServerPort() = &quot; + request.getServerPort());//8080</span>
<span class="token comment">//        System.out.println(&quot;request.getContextPath() = &quot; + request.getContextPath());//servlet ï¼ˆé¡¹ç›®åï¼Œä¸Šä¸‹æ–‡è·¯å¾„ï¼‰</span>
<span class="token comment">//        System.out.println(&quot;request.getServletPath() = &quot; + request.getServletPath());//RequestServletNote ï¼ˆservletè·¯å¾„ï¼‰</span>
<span class="token comment">//        System.out.println(&quot;request.getQueryString() = &quot; + request.getQueryString());//username=noby&amp;password=123 ï¼ˆè¯·æ±‚å‚æ•°ï¼‰</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * è¯·æ±‚çš„è½¬å‘
     * requeståŸŸ
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        //page &lt; request &lt; session &lt; application(ServletContext) å‰å››ä¸ªä¸ºJavaWebçš„å››å¤§åŸŸå¯¹è±¡ï¼Œåé¢ä¸‰ä¸ªä¸ºServletä¸‰å¤§åŸŸå¯¹è±¡</span>
<span class="token comment">//        request.setAttribute(&quot;info&quot;,&quot;è½¬å‘åŸŸå±æ€§ä¿¡æ¯&quot;);//åŸŸé”®å€¼å¯¹ä¸­çš„å€¼å¯ä»¥æ˜¯ä¸å±€é™äºStringçš„ä»»æ„ç±»å‹ï¼ŒrequeståŸŸçš„ç”Ÿå‘½å‘¨æœŸä¸ºæµè§ˆå™¨è¯·æ±‚å‘èµ·åˆ°æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨å“åº”</span>
<span class="token comment">//        System.out.println(&quot;request.getAttribute(\&quot;info\&quot;) = &quot; + request.getAttribute(&quot;info&quot;));//è·å–åŸŸå±æ€§</span>
<span class="token comment">//        Enumeration&lt;String&gt; attributeNames = request.getAttributeNames();</span>
<span class="token comment">//        while (attributeNames.hasMoreElements()) {</span>
<span class="token comment">//            System.out.println(&quot;æ‰€æœ‰çš„å±æ€§åï¼š&quot;+attributeNames.nextElement());</span>
<span class="token comment">//        }</span>
<span class="token comment">////        request.removeAttribute(&quot;info&quot;);//åˆ é™¤åŸŸå±æ€§</span>
<span class="token comment">//        request.getRequestDispatcher(&quot;/dispatcher.jsp&quot;).forward(request,response);//è½¬å‘çš„åœ°å€ä¸ºæµè§ˆå™¨åœ°å€ï¼Œé‡å®šå‘åœ°å€ä¸ºæœåŠ¡å™¨åœ°å€</span>
<span class="token comment">////        response.sendRedirect(&quot;/servlet/dispatcher.jsp&quot;);//è½¬å‘åŸŸå±æ€§åªå¯ä»¥åœ¨æœ¬æ¬¡è¯·æ±‚æœ‰æ•ˆï¼ˆé‡å®šå‘ä¸å±äºåŒä¸€æ¬¡è¯·æ±‚ï¼‰</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * è¯·æ±‚çš„åŒ…å«
     * requeståŸŸ
     *
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;requestServletNote\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é¡µé¢çš„å¤ç”¨åº•å±‚ä½¿ç”¨çš„å°±æ˜¯è¯·æ±‚çš„åŒ…å«</span>
        <span class="token comment">//å“åº”çš„åé¢ä¸å¯ä»¥æœ‰è½¬å‘å’Œé‡å®šå‘ï¼Œä½†æ˜¯å¯ä»¥æœ‰åŒ…å«</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/includeServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»Ÿä¸€ä¸ªé¡µé¢å¯ä»¥åŒæ—¶æœ‰ç”±å¤šä¸ªservletç¼–è¾‘</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="response-è¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#response-è¯·æ±‚" aria-hidden="true">#</a> Response è¯·æ±‚</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>httpServlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å“åº”å¤´è®¾ç½®
 * å“åº”ç è®¾ç½®
 * å“åº”ç¼–ç è®¾ç½®
 * å“åº”å†…å®¹è®¾ç½®ï¼ˆå­—ç¬¦ï¼Œå­—èŠ‚ï¼‰
 * é‡å®šå‘
 *
 * <span class="token keyword">@author</span> Noby
 * <span class="token keyword">@since</span> 2023/3/24 21:40
 */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/responseServletNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseServletNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * å‘é€å“åº”
     * å“åº”å­—ç¬¦
     * è®¾ç½®å“åº”çš„ç¼–ç æ–¹å¼1ï¼Œé€šè¿‡è°ƒç”¨responseçš„setContentType()æ–¹æ³•
     */</span>
<span class="token comment">//    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</span>
<span class="token comment">//        response.setContentType(&quot;text/html;charset=utf-8&quot;);//å“åº”çš„æ•°æ®ä¸ºhtml,æµè§ˆå™¨è§£ç æ–¹å¼ä¸ºutf-8</span>
<span class="token comment">//        /* ç­‰åŒäºè¯¥ä»£ç å—</span>
<span class="token comment">//        response.setHeader(&quot;content-type&quot;, &quot;text/html&quot;);//è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹</span>
<span class="token comment">//        response.setCharacterEncoding(&quot;utf-8&quot;);//è®¾ç½®å†…å®¹çš„æµè§ˆå™¨è§£ç æ–¹å¼</span>
<span class="token comment">//        */</span>
<span class="token comment">//        request.setCharacterEncoding(&quot;utf-8&quot;);//è®¾ç½®æœåŠ¡å™¨è¯·æ±‚æ–‡å­—çš„ç¼–ç æ–¹å¼ä¸ºutf-8</span>
<span class="token comment">//        PrintWriter writer = response.getWriter();//å“åº”çš„æ•°æ®ä¸ºå­—ç¬¦</span>
<span class="token comment">//        writer.write(&quot;write()æ–¹æ³•æ‰§è¡Œ1&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * å‘é€å“åº”
     * è®¾ç½®è‡ªå®šä¹‰å“åº”å¤´
     * è®¾ç½®å“åº”çš„ç¼–ç æ–¹å¼2ï¼Œé€šè¿‡è®¾ç½®å“åº”å¤´
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        response.setHeader(&quot;username&quot;,&quot;noby&quot;);//è®¾ç½®å“åº”å¤´ï¼Œç”¨æˆ·è‡ªå®šä¹‰å“åº”å¤´ï¼Œæµè§ˆå™¨å¯æ¥æ”¶è¯¥ä¿¡æ¯</span>
<span class="token comment">//        response.setHeader(&quot;Content-Type&quot;,&quot;text/html;charset=utf-8&quot;);//httpåè®®å“åº”å¤´ï¼Œè¯¥æ–¹æ³•ç­‰åŒäºresponse.setContentType(&quot;text/html;charset=utf-8&quot;)</span>
<span class="token comment">//        response.setCharacterEncoding(&quot;utf-8&quot;);//è®¾ç½®æœåŠ¡å™¨å“åº”çš„ç¼–ç æ–¹å¼ä¸ºutf-8ï¼ˆè¯¥è¯­å¥åœ¨ä¸Šè¡Œè¯­å¥ä¹¦å†™åå¯ä»¥çœç•¥ï¼‰</span>
<span class="token comment">//        PrintWriter writer = response.getWriter();</span>
<span class="token comment">//        writer.write(&quot;write()æ–¹æ³•æ‰§è¡Œ2&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * å‘é€å›¾ç‰‡å­—èŠ‚å“åº”
     * é€šè¿‡commons-ioå®ç°æµçš„å¯¹æ‹·
     * é€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡è·å–è¾“å…¥æµ
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        InputStream fileInputStream=this.getServletContext().getResourceAsStream(&quot;/img/joker.jpg&quot;);</span>
<span class="token comment">//        ServletOutputStream outputStream = response.getOutputStream();</span>
<span class="token comment">//        System.out.println(this.getServletContext());</span>
<span class="token comment">//        IOUtils.copy(fileInputStream,outputStream);//åˆ©ç”¨å¤–éƒ¨å·¥å…·å®ç°æµçš„å¯¹æ‹·(è¾“å…¥æµï¼Œè¾“å‡ºæµ)</span>
<span class="token comment">//        fileInputStream.close();</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * å‘é€pdfå­—èŠ‚å“åº”
     * é€šè¿‡commons-ioå®ç°æµçš„å¯¹æ‹·
     * é€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡è·å–è¾“å…¥æµ
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        response.setContentType(&quot;Application/pdf;charset=uft-8&quot;);//å¯çœç•¥æ”¹è¡Œ</span>
<span class="token comment">//        ServletContext servletContext = this.getServletContext();</span>
<span class="token comment">//        InputStream inputStream = servletContext.getResourceAsStream(&quot;/serverStartup.pdf&quot;);</span>
<span class="token comment">//        ServletOutputStream outputStream = response.getOutputStream();</span>
<span class="token comment">//        IOUtils.copy(inputStream, outputStream);//åˆ©ç”¨commons-ioå®ç°æµçš„å¯¹æ‹·(è¾“å…¥æµï¼Œè¾“å‡ºæµ)</span>
<span class="token comment">//        inputStream.close();</span>
<span class="token comment">//    }</span>


    <span class="token doc-comment comment">/**
     * é‡å®šå‘æ–¹æ³•1ï¼Œè°ƒç”¨é‡å®šå‘æ–¹æ³•
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/servlet/redirect.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * è®¾ç½®å“åº”ç 
     * é‡å®šå‘æ–¹æ³•2ï¼Œè®¾ç½®å“åº”ç å’Œå“åº”å¤´
     *
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span><span class="token operator">/</span><span class="token operator">/</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        //200 æ­£å¸¸å“åº”ï¼Œ404 æœªæ‰¾åˆ°èµ„æºæ–‡ä»¶ï¼Œ405 è¯·æ±‚æ–¹å¼é”™è¯¯ï¼Œ500 javaä»£ç å¼‚å¸¸ï¼Œ302 é‡å®šå‘</span>
<span class="token comment">//        response.setStatus(302);</span>
<span class="token comment">//        response.setHeader(&quot;location&quot;,&quot;/servlet/redirect.html&quot;);</span>
<span class="token comment">////        response.sendError(404,&quot;äººä¸ºè®¾ç½®èµ„æºæœªæ‰¾åˆ°&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¯·æ±‚çš„åŒ…å«" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚çš„åŒ…å«" aria-hidden="true">#</a> è¯·æ±‚çš„åŒ…å«</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>httpServlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * è¯·æ±‚çš„åŒ…å«
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/includeServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IncludeServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;IncludeServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¼šè¯è·Ÿè¸ª" tabindex="-1"><a class="header-anchor" href="#ä¼šè¯è·Ÿè¸ª" aria-hidden="true">#</a> ä¼šè¯è·Ÿè¸ª</h2><h3 id="è¯·æ±‚å’Œä¼šè¯" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å’Œä¼šè¯" aria-hidden="true">#</a> è¯·æ±‚å’Œä¼šè¯</h3><ul><li>ä¸€æ¬¡è¯·æ±‚ä¸ºæµè§ˆå™¨å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡å™¨å“åº”æ•°æ®ç»“æŸ</li><li>ä¸€æ¬¡ä¼šè¯ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥åˆ°å…¶ä¸­ä¸€æ–¹å…³é—­è¿æ¥ã€‚ä¸€æ¬¡ä¼šè¯ä¸ºä¸€ä¸ªç”¨æˆ·å¯¹åº”åœ¨æœåŠ¡å™¨ä¸­çš„ session å’Œå¯¹åº”åœ¨æµè§ˆå™¨ä¸­ cookie çš„ sessionID çš„æœ‰æ•ˆæœŸé™ï¼Œå¯ä¸ºè¿å†™ä¹Ÿå¯ä¸ºæ–­ç»­çš„ <ul><li>ä¸€æ¬¡ä¼šè¯é€šå¸¸åŒ…å«å¤šä¸ªè¯·æ±‚</li></ul></li><li>ä¼šè¯è·Ÿè¸ªï¼šæµè§ˆå™¨ä½¿ç”¨çš„ http åè®®ä¸ºæ— çŠ¶æ€åè®®ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œè¯¥æŠ€æœ¯æ˜¯ä¸ºäº†å»ºç«‹å„ä¸ªè¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œä¼šè¯è·Ÿè¸ªåŒä¸€æ¬¡ä¼šè¯ä¸­å¤šæ¬¡è¯·æ±‚ä¸­é—´çš„æ•°æ®çš„å…±äº«æŠ€æœ¯</li></ul><h3 id="å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª" aria-hidden="true">#</a> å¦‚ä½•å®ç°ä¼šè¯è·Ÿè¸ª</h3><ul><li>ç¬¬ä¸€æ¬¡æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ <ul><li>request è¯·æ±‚ä¸­ä¸ä¼šæºå¸¦æ¥è‡ªæµè§ˆå™¨ä¸­çš„ä»»ä½• cookie <ul><li>æœåŠ¡å™¨è°ƒç”¨ request.getSession()æ–¹æ³•è·å– sessionï¼Œæœªé€šè¿‡ cookie è·å–åˆ° JSESSIONID çš„æƒ…å†µä¸‹æœåŠ¡å™¨ä¼šæ–°å»ºä¸€ä¸ª session <ul><li>å½“æœåŠ¡å™¨å‘æµè§ˆå™¨å“åº”æ•°æ®æ—¶å­˜åœ¨ Set-Cookie å“åº”å¤´ï¼Œè¯¥å“åº”å¤´å­˜åœ¨è¯¥ session çš„ JSESSIONID <ul><li>æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åå°† Set-Cookie å“åº”å¤´ä¸­çš„ JSESSIONID å­˜å…¥è¯¥ç½‘ç«™çš„ cookie ä¸­</li></ul></li></ul></li></ul></li></ul></li><li>ç¬¬äºŒæ¬¡è¯¥æµè§ˆå™¨å‘è¯¥æœåŠ¡å™¨å‘èµ·è¯·æ±‚ <ul><li>request è¯·æ±‚ä¸­æºå¸¦æ¥è‡ªæµè§ˆå™¨ä¸­å¯¹åº”è¯¥ç½‘ç«™åŒ…å« JSESSIONID åœ¨å†…çš„æ‰€æœ‰ cookie <ul><li>æœåŠ¡å™¨è°ƒç”¨ request.getSession()æ–¹æ³•è·å– sessionï¼ŒæœåŠ¡å™¨é€šè¿‡ cookie ä¸­çš„ JSESSIONID æŸ¥è¯¢å¯¹åº”çš„ session å¹¶è¿”å›ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯å’Œä¸Šæ¬¡æµè§ˆå™¨è®¿é—®æ—¶è·å¾—çš„ session ä¸ºåŒä¸€ session</li></ul></li></ul></li></ul><h3 id="cookie-å’Œ-session-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#cookie-å’Œ-session-çš„åŒºåˆ«" aria-hidden="true">#</a> Cookie å’Œ Session çš„åŒºåˆ«</h3><ul><li>å­˜å‚¨ä½ç½®ï¼šCookie å­˜å‚¨åœ¨æµè§ˆå™¨ï¼›Session å­˜å‚¨åœ¨æœåŠ¡å™¨</li><li>å®‰å…¨æ€§ï¼šCookie å› ä¸ºå­˜åœ¨æµè§ˆå™¨å½“ä¸­ï¼Œæœ‰è¢«çªƒå–çš„é£é™©ï¼Œä¹Ÿä¼šéšè¯·æ±‚åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œæœ‰è¢«åŠ«æŒçš„é£é™©ï¼Œå› æ­¤ä¸å®‰å…¨ï¼›Session å­˜åœ¨æœåŠ¡å™¨å½“ä¸­ä¸”ä¸å†ä¸éšå“åº”åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œæ‰€ä»¥è¾ƒå®‰å…¨</li><li>æ•°æ®ç±»å‹åŠå¤§å°ï¼šCookie åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ä¸”ä¸èƒ½ç›´æ¥å­˜å‚¨ä¸­æ–‡å­—ç¬¦ä¸²ï¼Œä¸­æ–‡é€šå¸¸ä½¿ç”¨ URL ç¼–ç çš„æ–¹å¼åšä¼ è¾“å‰çš„å¤„ç†ï¼Œä¸”å¤§å°ä¸º 3kbï¼›Session å¯ä»¥å­˜å‚¨å¯¹è±¡åœ¨å†…çš„æ‰€æœ‰æ•°æ®ï¼Œä¸”æ²¡æœ‰å¤§å°é™åˆ¶</li><li>å­˜å‚¨æ—¶é—´ï¼šCookie é»˜è®¤ä¸ºå…³é—­æµè§ˆå™¨å¤±æ•ˆï¼Œå¯è°ƒç”¨ Cookie çš„æˆå‘˜æ–¹æ³• setMaxAge()è®¾ç½®å…¶æœ‰æ•ˆæ—¶é—´ï¼Œè´Ÿæ•°ä¸ºå…³é—­æµè§ˆå™¨å¤±æ•ˆï¼Œæ­£æ•°ä¸ºæœ‰æ•ˆçš„ç§’æ•°ï¼Œ0 ä¸ºåˆ é™¤ï¼›Session é»˜è®¤ä¸º 30 åˆ†é’Ÿå¤±æ•ˆï¼Œå¯é€šè¿‡é…ç½®æ–‡ä»¶è®¾ç½®å…¶æœ‰æ•ˆæ—¶é—´(å•ä½ä¸ºåˆ†)ï¼ŒsetMaxInactiveInterval(int s)æ–¹æ³•å¯è¦†ç›–é…ç½®æ–‡ä»¶çš„æœ‰æ•ˆæ—¶é—´(å•ä½ä¸ºç§’)ï¼Œå¯è°ƒç”¨ invalidate()çš„æ–¹æ³•é”€æ¯ï¼Œå½“æœåŠ¡å™¨é‡å¯æ—¶ä¼šé€šè¿‡é’åŒ–å’Œæ´»åŒ–çš„æ–¹å¼ä¿è¯åœ¨ Session è§„å®šæ—¶é—´å†…çš„æœ‰æ•ˆæ€§ <ul><li>é’åŒ–ï¼šæœåŠ¡å™¨å…³æœºå‰æŠŠ session é€šè¿‡åºåˆ—åŒ–çš„æ–¹å¼ä¿å­˜åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­ã€‚</li><li>æ´»åŒ–ï¼šæœåŠ¡å™¨å¼€æœºåæŠŠç¡¬ç›˜æ–‡ä»¶ä¸­çš„ session åœ¨ååºåˆ—åŒ–å›å†…å­˜ã€‚</li></ul></li><li>æœåŠ¡å™¨æ€§èƒ½ï¼šCookie ä¸å ç”¨æœåŠ¡å™¨èµ„æºï¼Œç›¸å¯¹æ€§èƒ½é«˜ï¼›session å ç”¨æœåŠ¡å™¨èµ„æºï¼Œç›¸å¯¹æ€§èƒ½ä½</li></ul><h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> Cookie</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLEncoder</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * æœåŠ¡å™¨å‘æµè§ˆå™¨å†™å…¥cookie
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
 * ä½œç”¨ï¼šè®©æœåŠ¡å™¨è®°ä½ä¸€äº›å®¢æˆ·ç«¯çš„ç‰¹å®šä¿¡æ¯ï¼Œå“åº”ç”¨æˆ·çš„æ—¶å€™ï¼Œå‘æµè§ˆå™¨çš„cookieä¸­å†™æ•°æ®ï¼Œå½“è¯¥æµè§ˆå™¨åœ¨æœ¬æ¬¡ä¼šè¯å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ä¼šæºå¸¦è¯¥cookieæ•°æ®
 * ç”Ÿå‘½å‘¨æœŸï¼šé»˜è®¤ä¸ºå½“å‰ä¼šè¯æœ‰æ•ˆï¼ˆä¸æ˜¯å½“å‰è¯·æ±‚ï¼‰ï¼Œå³ä¸ºæµè§ˆå™¨å…³é—­æ—¶ç»“æŸ
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/cookieNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//cookieä¸èƒ½ç›´æ¥å­˜å‚¨ä¸­æ–‡ï¼Œéœ€è¦ç”¨åˆ°urlç¼–ç </span>
        <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token string">&quot;nobyä¸­æ–‡&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> urlValue <span class="token operator">=</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> urlValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Cookieçš„å€¼åªèƒ½ä¸ºStringï¼Œä¸”ä¸èƒ½ç›´æ¥å­˜å‚¨ä¸­æ–‡</span>
        cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œ-1ä¸ºé»˜è®¤å€¼(å…³é—­æµè§ˆå™¨å¤±æ•ˆï¼Œè´Ÿæ•°éƒ½ä¸ºå…³é—­æµè§ˆå™¨å¤±æ•ˆ)ï¼Œ0ä¸ºåˆ é™¤</span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> format <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;cookieNoteå·²åˆ›å»º %s:%s&quot;</span><span class="token punctuation">,</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Cookie</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URLDecoder</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * æœåŠ¡å™¨è¯»å–æµè§ˆå™¨å‘é€è¿‡æ¥çš„cookie
 */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/cookieNote2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieNote2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;cookieNote2å·²è·å–cookie %s:%s&quot;</span><span class="token punctuation">,</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">String</span> format <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;cookieNote2å·²è·å–cookie %s:%s&quot;</span><span class="token punctuation">,</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤è¯¥cookie</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;username cookieå·²åˆ é™¤&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> Session</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * æœåŠ¡å™¨å‘å†…éƒ¨å†™å…¥session
 */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/sessionNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;å·²å†™å…¥session %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * è·å–æœåŠ¡å†…éƒ¨çš„session
 */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/sessionNote2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionNote2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é”€æ¯sessionçš„æ–¹æ³•</span>
<span class="token comment">//        session.invalidate();</span>
        <span class="token comment">//ä¼šè¯è¶…æ—¶åé”€æ¯è¯¥session(å•ä½ä¸ºç§’ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„session-configå•ä½ä¸ºåˆ†é’Ÿï¼Œ0æˆ–è´Ÿæ•°ä¸ºæ°¸ä¹…æœ‰æ•ˆ)</span>
<span class="token comment">//        session.setMaxInactiveInterval(3);</span>
        <span class="token class-name">String</span> format <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;å·²è·å–session %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="servletcontext" tabindex="-1"><a class="header-anchor" href="#servletcontext" aria-hidden="true">#</a> ServletContext</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å†™å…¥ä¸Šä¸‹æ–‡å¯¹è±¡ä¿¡æ¯
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletContextNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ï¼ˆä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰æ¥è‡ªGenericServletå¯¹è±¡ï¼Œå®ƒæ˜¯åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å°±é€šè¿‡æœåŠ¡å™¨è‡ªåŠ¨åˆ›å»ºï¼Œæ‰€æœ‰ç”¨æˆ·å…±äº«ä¸Šä¸‹æ–‡å¯¹è±¡</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;servletContextValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> infoFormat <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;å·²å†™å…¥ servletContext %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;servletContextValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>infoFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>infoFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebInitParam</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å›åº”æ‰€æœ‰ç”¨æˆ·è·å–ä¸Šä¸‹æ–‡å¯¹è±¡çš„è¯·æ±‚
 * è·å–é…ç½®æ–‡ä»¶ä¸­çš„åˆå§‹åŒ–å‚æ•°
 * servletContext
 * servletConfig */</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/servletContextNote2&quot;</span><span class="token punctuation">,</span> initParams <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;ENCODING&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextNote2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charSet=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ï¼ˆä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰æ¥è‡ªGenericServletå¯¹è±¡ï¼Œå®ƒæ˜¯åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å°±é€šè¿‡æœåŠ¡å™¨è‡ªåŠ¨åˆ›å»ºï¼Œæ‰€æœ‰ç”¨æˆ·å…±äº«ä¸Šä¸‹æ–‡å¯¹è±¡</span>
        <span class="token class-name">ServletConfig</span> servletConfig <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> infoFormat <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;è·å–åˆ°servletContext attribute %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¥è‡ªservletContextNoteè®¾ç½®çš„åŸŸå±æ€§</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>infoFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>infoFormat <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> info2Format <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;è·å–åˆ°servletContext initParameter %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info2&quot;</span><span class="token punctuation">,</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;info2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¥è‡ªxmlï¼Œæ‰€æœ‰çš„servletå‡å¯è®¿é—®</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>info2Format<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>info2Format <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">EncodingFormat</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;è·å–åˆ°servletConfig initParameter %s:%s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENCODING&quot;</span><span class="token punctuation">,</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;ENCODING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¥è‡ªæœ¬ç±»æ³¨è§£ï¼Œæœ¬servletå¯è®¿é—®</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">EncodingFormat</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">EncodingFormat</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¼šè¯åº”ç”¨-éªŒè¯ç™»é™†" tabindex="-1"><a class="header-anchor" href="#ä¼šè¯åº”ç”¨-éªŒè¯ç™»é™†" aria-hidden="true">#</a> ä¼šè¯åº”ç”¨ï¼ŒéªŒè¯ç™»é™†</h3><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;verifyCode&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=&quot;/servlet/loginNote&quot;&gt;
    è´¦å·ï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;${cookie.username.value}&quot;&gt;&lt;br&gt;
    å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot; value=&quot;123&quot;&gt;&lt;br&gt;
    éªŒè¯ç ï¼š&lt;input type=&quot;text&quot; name=&quot;userCode&quot;&gt; &lt;img src=&quot;/servlet/verifyCodeNote&quot; id=&quot;imgCode&quot;/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ç”ŸæˆéªŒè¯ç 
 *
 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VerifyCode</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> w <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// {&quot;å®‹ä½“&quot;, &quot;åæ–‡æ¥·ä½“&quot;, &quot;é»‘ä½“&quot;, &quot;åæ–‡æ–°é­&quot;, &quot;åæ–‡éš¶ä¹¦&quot;, &quot;å¾®è½¯é›…é»‘&quot;, &quot;æ¥·ä½“_GB2312&quot;}</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fontNames  <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;å®‹ä½“&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åæ–‡æ¥·ä½“&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é»‘ä½“&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¾®è½¯é›…é»‘&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ¥·ä½“_GB2312&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> codes  <span class="token operator">=</span> <span class="token string">&quot;23456789abcdefghjkmnopqrstuvwxyzABCDEFGHJKMNPQRSTUVWXYZ&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Color</span> bgColor  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> text <span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Color</span> randomColor <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> red <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> green <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> blue <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span>red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Font</span> randomFont <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>fontNames<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> fontName <span class="token operator">=</span> fontNames<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> style <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">24</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span>fontName<span class="token punctuation">,</span> style<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> drawLine <span class="token punctuation">(</span><span class="token class-name">BufferedImage</span> image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> num  <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token class-name">Graphics2D</span> g2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> x1 <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> y1 <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> x2 <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> y2 <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">setStroke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BasicStroke</span><span class="token punctuation">(</span><span class="token number">1.5F</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">char</span> randomChar <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>codes<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> codes<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">BufferedImage</span> createImage <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">,</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">.</span><span class="token constant">TYPE_INT_RGB</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Graphics2D</span> g2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g2<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> image<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * ç”ŸæˆéªŒè¯ç å›¾ç‰‡
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">BufferedImage</span> getImage <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token function">createImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Graphics2D</span> g2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å‘å›¾ç‰‡ä¸­ç”»4ä¸ªå­—ç¬¦</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
            <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token function">randomChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">float</span> x <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">1.0F</span> <span class="token operator">*</span> w <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token function">randomFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">randomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g2<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> x<span class="token punctuation">,</span> h<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">drawLine</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> image<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * è·å–éªŒè¯ç æ–‡æœ¬
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> getText <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * è¾“å‡ºéªŒè¯ç 
     * <span class="token keyword">@param</span> <span class="token parameter">image</span>
     * <span class="token keyword">@param</span> <span class="token parameter">out</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> output <span class="token punctuation">(</span><span class="token class-name">BufferedImage</span> image<span class="token punctuation">,</span> <span class="token class-name">OutputStream</span> out<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token string">&quot;JPEG&quot;</span><span class="token punctuation">,</span> out<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">VerifyCode</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ç”ŸæˆéšæœºéªŒè¯å›¾ç‰‡å’Œå­—ç¬¦
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/verifyCodeNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VerifyCodeNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">VerifyCode</span> verifyCode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VerifyCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> verifyCode<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> text <span class="token operator">=</span> verifyCode<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;sessionCode&quot;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">VerifyCode</span><span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>sessionTracking</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * åˆ©ç”¨cookieè®°ä½ç”¨æˆ·å
 * åˆ©ç”¨sessionä¼ é€’éªŒè¯ç 
 * åˆ©ç”¨éªŒè¯ç å·¥å…·ç±»ç”ŸæˆéªŒè¯ç 
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/loginNote&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginNote</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> userCode <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;userCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ©ç”¨cookieè®°ä½ç”¨æˆ·å</span>
        <span class="token class-name">Cookie</span> usernameCookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>usernameCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ©ç”¨sessionä¼ é€’éªŒè¯ä¿¡æ¯ï¼Œè¯¥sessionæ˜¯VerifyCodeServletNoteåœ¨ç”ŸæˆéªŒè¯å›¾ç‰‡åå†™å…¥</span>
        <span class="token class-name">String</span> sessionCode <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;sessionCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;noby&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>userCode<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>sessionCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;æ¬¢è¿ï¼š&quot;</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;éªŒè¯ç é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;å¯†ç é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;è¯¥ç”¨æˆ·æœªæ³¨å†Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼" aria-hidden="true">#</a> é¡µé¢è·³è½¬çš„å…¶ä»–æ–¹å¼</h2><h3 id="è¡¨å•éšè—åŸŸ" tabindex="-1"><a class="header-anchor" href="#è¡¨å•éšè—åŸŸ" aria-hidden="true">#</a> è¡¨å•éšè—åŸŸ</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>hidden</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * é€šè¿‡è¡¨å•éšè—åŸŸåœ¨é¡µé¢ä¹‹é—´ä¼ é€’æ•°æ®
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/hiddenServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiddenServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> newHtml <span class="token operator">=</span> <span class="token string">&quot;&lt;form action=\&quot;/servlet/hiddenServlet2\&quot; method=\&quot;post\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;    é—®é¢˜1ï¼š&lt;input type=\&quot;input\&quot; name=\&quot;q1\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;    é—®é¢˜2ï¼š&lt;input type=\&quot;input\&quot; name=\&quot;q2\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;    &lt;input type=\&quot;submit\&quot; value=\&quot;ä¸‹ä¸€é¡µ\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;&lt;/form&gt;&quot;</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>newHtml<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>hidden</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/hiddenServlet2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiddenServlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;form action=\&quot;/servlet/hiddenServlet3\&quot; method=\&quot;post\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;    &lt;input type=\&quot;hidden\&quot; name=\&quot;q1\&quot; value=\&quot;&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q1&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;    &lt;input type=\&quot;hidden\&quot; name=\&quot;q2\&quot; value=\&quot;&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q2&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;    é—®é¢˜3ï¼š&lt;input type=\&quot;input\&quot; name=\&quot;q3\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;    é—®é¢˜4ï¼š&lt;input type=\&quot;input\&quot; name=\&quot;q4\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;    &lt;input type=\&quot;submit\&quot; value=\&quot;æäº¤\&quot;&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;/form&gt;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>hidden</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/hiddenServlet3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiddenServlet3</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> q1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> q2 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> q3 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> q4 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;q4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;é—®é¢˜1&quot;</span> <span class="token operator">+</span> q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;é—®é¢˜2&quot;</span> <span class="token operator">+</span> q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;é—®é¢˜3&quot;</span> <span class="token operator">+</span> q3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;é—®é¢˜4&quot;</span> <span class="token operator">+</span> q4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="url" tabindex="-1"><a class="header-anchor" href="#url" aria-hidden="true">#</a> Url</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">priv<span class="token punctuation">.</span>noby<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>url</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * é€šè¿‡urlå®ç°é¡µé¢çš„è·³è½¬
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/urlServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UrlServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> page <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            page <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;p&gt;è¿™æ˜¯ç¬¬&quot;</span> <span class="token operator">+</span> page <span class="token operator">+</span> <span class="token string">&quot;é¡µ&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=&#39;/servlet/urlServlet?page=1&#39;&gt;1&lt;/a&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=&#39;/servlet/urlServlet?page=2&#39;&gt;2&lt;/a&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=&#39;/servlet/urlServlet?page=3&#39;&gt;3&lt;/a&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#http-æµ‹è¯•" aria-hidden="true">#</a> HTTP æµ‹è¯•</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### cookieçš„åˆ›å»º
GET http://localhost:8080/servlet/cookieNote

### cookieçš„è·å–
GET http://localhost:8080/servlet/cookieNote2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### httpServletNote,get
GET http://localhost:8080/servlet/httpServletNote
### httpServletNote,pot
POST http://localhost:8080/servlet/httpServletNote
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### requestServlet
GET http://localhost:8080/servlet/requestServletNote
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### responseServlet
GET http://localhost:8080/servlet/responseServletNote
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### servletçš„ç”Ÿå‘½å‘¨æœŸ
GET http://localhost:8080/servlet/servletNote
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### servletContextçš„å†™å…¥
GET http://localhost:8080/servlet/servletContextNote

### servletContextçš„è·å–
GET http://localhost:8080/servlet/servletContextNote2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>### sessionçš„å†™å…¥
GET http://localhost:8080/servlet/sessionNote

### sessionçš„è·å–(å¯æµ‹è¯•sesisonçš„é’åŒ–å’Œæ´»åŒ–)
GET http://localhost:8080/servlet/sessionNote2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 1326981297@qq.com">noby</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/codenotes/javaWeb/day06%20HTTP%E5%8D%8F%E8%AE%AE%E5%92%8CTomcat%E6%9C%8D%E5%8A%A1%E5%99%A8.html" class="nav-link prev" aria-label="day06 HTTPåè®®å’ŒTomcatæœåŠ¡å™¨"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-write"></span>day06 HTTPåè®®å’ŒTomcatæœåŠ¡å™¨</div></a><a href="/codenotes/javaWeb/day08%20JSP%E3%80%81EL%E3%80%81JSTL.html" class="nav-link next" aria-label="day08 JSPã€ELã€JSTL"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">day08 JSPã€ELã€JSTL<span class="icon iconfont icon-write"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">æœ¬ç«™è‹¥æœ‰èµ„æºæ¶‰åŠä¾µæƒï¼Œè¯·ç«‹å³è”ç³»ä½œè€…åˆ é™¤ï¼Œéå¸¸æŠ±æ­‰ã€‚ï¼ˆ<a href='mailto:1326981297@qq.com?subject=nobyä¸ªäººç½‘ç«™-ä¿¡æ¯åé¦ˆ' target='_blank' style='color: var(--c-text-lighter);'>1326981297@qq.com</a>ï¼‰</div><div class="copyright">Copyright Â© 2023 Noby</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.759ff6f5.js" defer></script>
  </body>
</html>
